{"version":3,"sources":["../../../source/lib/workbook/dxfCollection.js"],"names":["_isEqual","require","Style","util","DXFItem","style","wb","id","ele","addDXFtoXMLele","DXFCollection","items","thisItem","forEach","item","toObject","push","length","dxfXML","att","addToXMLele","module","exports"],"mappings":";;;;;;AAAA,IAAMA,WAAWC,QAAQ,gBAAR,CAAjB;AACA,IAAMC,QAAQD,QAAQ,UAAR,CAAd;AACA,IAAME,OAAOF,QAAQ,MAAR,CAAb;;IAEMG,O;AAAU;AACZ,qBAAYC,KAAZ,EAAmBC,EAAnB,EAAuB;AAAA;;AACnB,aAAKA,EAAL,GAAUA,EAAV;AACA,aAAKD,KAAL,GAAaA,KAAb;AACA,aAAKE,EAAL;AACH;;;;oCAKWC,G,EAAK;AACb,iBAAKH,KAAL,CAAWI,cAAX,CAA0BD,GAA1B;AACH;;;4BANW;AACR,mBAAO,KAAKD,EAAZ;AACH;;;;;;IAOCG,a;AAAgB;AAClB,2BAAYJ,EAAZ,EAAgB;AAAA;;AACZ,aAAKA,EAAL,GAAUA,EAAV;AACA,aAAKK,KAAL,GAAa,EAAb;AACH;;;;4BAEGN,K,EAAO;AACP,gBAAI,EAAEA,iBAAiBH,KAAnB,CAAJ,EAA+B;AAC3BG,wBAAQ,KAAKC,EAAL,CAAQJ,KAAR,CAAcG,KAAd,CAAR;AACH;;AAED,gBAAIO,iBAAJ;AACA,iBAAKD,KAAL,CAAWE,OAAX,CAAmB,UAACC,IAAD,EAAU;AACzB,oBAAId,SAASc,KAAKT,KAAL,CAAWU,QAAX,EAAT,EAAgCV,MAAMU,QAAN,EAAhC,CAAJ,EAAuD;AACnD,2BAAOH,WAAWE,IAAlB;AACH;AACJ,aAJD;AAKA,gBAAI,CAACF,QAAL,EAAe;AACXA,2BAAW,IAAIR,OAAJ,CAAYC,KAAZ,EAAmB,KAAKC,EAAxB,CAAX;AACA,qBAAKK,KAAL,CAAWK,IAAX,CAAgBJ,QAAhB;AACAA,yBAASL,EAAT,GAAc,KAAKI,KAAL,CAAWM,MAAX,GAAoB,CAAlC;AACH;AACD,mBAAOL,QAAP;AACH;;;oCAMWJ,G,EAAK;AACb,gBAAIU,SAASV,IACRA,GADQ,CACJ,MADI,EAERW,GAFQ,CAEJ,OAFI,EAEK,KAAKF,MAFV,CAAb;;AAIA,iBAAKN,KAAL,CAAWE,OAAX,CAAmB,UAACC,IAAD,EAAU;AACzBA,qBAAKM,WAAL,CAAiBF,MAAjB;AACH,aAFD;AAGH;;;4BAZY;AACT,mBAAO,KAAKP,KAAL,CAAWM,MAAlB;AACH;;;;;;AAaLI,OAAOC,OAAP,GAAiBZ,aAAjB","file":"dxfCollection.js","sourcesContent":["const _isEqual = require('lodash.isequal');\r\nconst Style = require('../style');\r\nconst util = require('util');\r\n\r\nclass DXFItem { // ยง18.8.14 dxf (Formatting)\r\n    constructor(style, wb) {\r\n        this.wb = wb;\r\n        this.style = style;\r\n        this.id;\r\n    }\r\n    get dxfId() {\r\n        return this.id;\r\n    }\r\n\r\n    addToXMLele(ele) {\r\n        this.style.addDXFtoXMLele(ele);\r\n    }\r\n}\r\n\r\nclass DXFCollection { // ยง18.8.15 dxfs (Formats)\r\n    constructor(wb) {\r\n        this.wb = wb;\r\n        this.items = [];\r\n    }\r\n\r\n    add(style) {\r\n        if (!(style instanceof Style)) {\r\n            style = this.wb.Style(style);\r\n        }\r\n\r\n        let thisItem;\r\n        this.items.forEach((item) => {\r\n            if (_isEqual(item.style.toObject(), style.toObject())) {\r\n                return thisItem = item;\r\n            }\r\n        });\r\n        if (!thisItem) {\r\n            thisItem = new DXFItem(style, this.wb);\r\n            this.items.push(thisItem);\r\n            thisItem.id = this.items.length - 1;\r\n        }\r\n        return thisItem;\r\n    }\r\n\r\n    get length() {\r\n        return this.items.length;\r\n    }\r\n\r\n    addToXMLele(ele) {\r\n        let dxfXML = ele\r\n            .ele('dxfs')\r\n            .att('count', this.length);\r\n\r\n        this.items.forEach((item) => {\r\n            item.addToXMLele(dxfXML);\r\n        });\r\n    }\r\n}\r\n\r\nmodule.exports = DXFCollection;"]}